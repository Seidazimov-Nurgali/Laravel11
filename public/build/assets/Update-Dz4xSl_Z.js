import{T as q,r as k,p as $,o as i,c as n,b as t,a as l,w as C,u as s,g as x,s as V,F as m,h,t as w,v as N,n as z,B as I}from"./app-B_e1RL1z.js";import{_ as u}from"./InputError-DW-aRdld.js";import{$ as E}from"./dropzone-DnLKvtV7.js";import{_ as B}from"./Modal-CAbtALPf.js";import{_ as c,a as v}from"./TextInput-Bh8WgkZE.js";import{_ as b}from"./Checkbox-BZBuEeaO.js";const F={class:"bg-white dark:bg-gray-900"},T={class:"py-8 px-4 mx-auto max-w-2xl lg:py-16"},D={class:"grid gap-4 sm:grid-cols-2 sm:gap-6"},j={class:"sm:col-span-2"},M=["value"],O=["value","selected"],R={class:"w-full"},A=["value","selected"],L={class:"inline-flex items-center cursor-pointer"},Q={class:"inline-flex items-center cursor-pointer"},H={class:"sm:col-span-2"},Y={class:"inline-flex items-center cursor-pointer"},G={class:"inline-flex items-center cursor-pointer"},J=["disabled"],te={__name:"Update",props:{categories:{type:Object,required:!0},brands:{type:Object,required:!0},product:{type:Object,required:!0}},setup(p){const o=p,e=q({id:o.product.id,title:o.product.title,brand_id:o.product.brand.id,category_id:o.product.category.id,price:o.product.price,quantity:o.product.quantity,description:o.product.description,isPublished:!!o.product.is_public,inStock:!!o.product.in_stock,isNew:!!o.product.is_new,isSale:!!o.product.is_sale,images:o.product.product_images,removedImageIds:[],_method:"PATCH"}),g=k(!1),S=()=>{g.value=!0},y=()=>{g.value=!1,e.clearErrors(),e.reset()};$(g,d=>{d&&I(()=>{U()})});const _=k(null),f=k(null),U=()=>{f.value=new E(_.value,{url:"test",autoProcessQueue:!1,addRemoveLinks:!0}),e.images.forEach(d=>{let r={id:d.id,name:d.name,size:d.size};f.value.displayExistingFile(r,d.image_url,null,null)}),f.value.on("removedfile",d=>{e.removedImageIds.push(d.id)})},P=()=>{e.images=f.value.getAcceptedFiles(),e.post(route("admin.products.update",e.id),{onSuccess:()=>y(),onFinish:()=>e.reset()})};return(d,r)=>(i(),n(m,null,[t("button",{onClick:S,class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"}," Edit "),l(B,{show:g.value,onClose:y},{default:C(()=>[t("section",F,[t("div",T,[r[17]||(r[17]=t("h2",{class:"mb-4 text-xl font-bold text-gray-900 dark:text-white"},"Edit product",-1)),t("div",D,[t("div",j,[l(c,{value:"Product Name",for:"name",class:"mb-2 text-gray-900 dark:text-white"}),l(v,{id:"name",type:"text",class:"bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",modelValue:s(e).title,"onUpdate:modelValue":r[0]||(r[0]=a=>s(e).title=a),placeholder:"Type product name"},null,8,["modelValue"]),l(u,{class:"mt-2",message:s(e).errors.title},null,8,["message"])]),t("div",null,[l(c,{value:"Brand",for:"brand",class:"mb-2 text-gray-900 dark:text-white"}),x(t("select",{id:"brand",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500","onUpdate:modelValue":r[1]||(r[1]=a=>s(e).brand_id=a)},[(i(!0),n(m,null,h(p.brands,a=>(i(),n("option",{value:a.id},w(a.title),9,M))),256)),(i(!0),n(m,null,h(p.brands,a=>(i(),n("option",{value:a.id,selected:s(e).brand_id===a.id},w(a.title),9,O))),256))],512),[[V,s(e).brand_id]]),l(u,{class:"mt-2",message:s(e).errors.brand_id},null,8,["message"])]),t("div",R,[l(c,{value:"Price $",for:"price",class:"mb-2 text-gray-900 dark:text-white"}),l(v,{id:"price",type:"number",class:"bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",modelValue:s(e).price,"onUpdate:modelValue":r[2]||(r[2]=a=>s(e).price=a),placeholder:"0"},null,8,["modelValue"]),l(u,{class:"mt-2",message:s(e).errors.price},null,8,["message"])]),t("div",null,[l(c,{value:"Category",for:"category",class:"mb-2 text-gray-900 dark:text-white"}),x(t("select",{id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500","onUpdate:modelValue":r[3]||(r[3]=a=>s(e).category_id=a)},[(i(!0),n(m,null,h(p.categories,a=>(i(),n("option",{value:a.id,selected:s(e).category_id===a.id},w(a.title),9,A))),256))],512),[[V,s(e).category_id]]),l(u,{class:"mt-2",message:s(e).errors.category_id},null,8,["message"])]),t("div",null,[l(c,{value:"Quantity",for:"quantity",class:"mb-2 text-gray-900 dark:text-white"}),l(v,{id:"quantity",type:"number",class:"bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",modelValue:s(e).quantity,"onUpdate:modelValue":r[4]||(r[4]=a=>s(e).quantity=a),placeholder:"0"},null,8,["modelValue"]),l(u,{class:"mt-2",message:s(e).errors.quantity},null,8,["message"])]),t("div",null,[t("label",L,[l(b,{name:"isPublished",checked:s(e).isPublished,"onUpdate:checked":r[5]||(r[5]=a=>s(e).isPublished=a)},null,8,["checked"]),r[10]||(r[10]=t("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"Publish?",-1))])]),t("div",null,[t("label",Q,[l(b,{name:"inStock",checked:s(e).inStock,"onUpdate:checked":r[6]||(r[6]=a=>s(e).inStock=a),class:"sr-only peer"},null,8,["checked"]),r[11]||(r[11]=t("div",{class:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:w-5 after:h-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),r[12]||(r[12]=t("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"In Stock?",-1))])]),t("div",H,[l(c,{value:"Description",for:"description",class:"mb-2 text-gray-900 dark:text-white"}),x(t("textarea",{id:"description",rows:"8","onUpdate:modelValue":r[7]||(r[7]=a=>s(e).description=a),class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Your description here"},null,512),[[N,s(e).description]]),l(u,{class:"mt-2",message:s(e).errors.description},null,8,["message"])]),t("div",null,[t("label",Y,[l(b,{name:"isNew",checked:s(e).isNew,"onUpdate:checked":r[8]||(r[8]=a=>s(e).isNew=a),class:"sr-only peer"},null,8,["checked"]),r[13]||(r[13]=t("div",{class:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:w-5 after:h-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),r[14]||(r[14]=t("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"Is New?",-1))])]),t("div",null,[t("label",G,[l(b,{name:"isSale",checked:s(e).isSale,"onUpdate:checked":r[9]||(r[9]=a=>s(e).isSale=a),class:"sr-only peer"},null,8,["checked"]),r[15]||(r[15]=t("div",{class:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:w-5 after:h-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),r[16]||(r[16]=t("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"Is Sale?",-1))])]),t("div",{ref_key:"dropRef",ref:_,class:"dropzone"},null,512)]),t("button",{class:"inline-flex items-center px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-yellow-700 rounded-lg focus:ring-4 focus:ring-yellow-200 dark:focus:ring-yellow-900 hover:bg-yellow-800",onClick:y}," Cancel "),t("button",{class:z(["inline-flex items-center px-5 py-2.5 mt-4 ml-4 sm:mt-6 text-sm font-medium text-center text-white bg-blue-700 rounded-lg focus:ring-4 focus:ring-blue-200 dark:focus:ring-blue-900 hover:bg-blue-800",{"opacity-25":s(e).processing}]),disabled:s(e).processing,onClick:P}," Update product ",10,J)])])]),_:1},8,["show"])],64))}};export{te as default};
