import{T as b,r as i,Q as f,o as l,c as u,b as t,t as h,d as y,g as x,v,u as s,n as w,f as _}from"./app-B_e1RL1z.js";const k={key:0,class:"py-2"},T={class:"py-2 px-4 mb-4 bg-white rounded-lg rounded-t-lg border border-gray-200 dark:bg-gray-800 dark:border-gray-700"},B=["disabled"],F={__name:"ChatForm",props:{parent_id:{type:Number,default:null}},setup(d){const e=b({text:"",parent_id:d.parent_id}),c=()=>{e.post(route("chats.store"),{onFinish:()=>e.reset()}),e.reset()},o=i(!1),n=i(null),p=f().props.auth.user;window.Echo.private("chat-channel.1").listenForWhisper("typing",a=>{n.value=a.username,o.value=!0,setTimeout(()=>{o.value=!1},3e3)});const m=()=>{e.text.length>0&&window.Echo.private("chat-channel.1").whisper("typing",{username:p.name})};return(a,r)=>(l(),u("form",{onSubmit:_(c,["prevent"]),class:"mb-6"},[o.value?(l(),u("div",k,[t("p",null,h(n.value)+" печатает...",1)])):y("",!0),t("div",T,[r[1]||(r[1]=t("label",{for:"comment",class:"sr-only"},"Your comment",-1)),x(t("textarea",{"onUpdate:modelValue":r[0]||(r[0]=g=>s(e).text=g),onInput:m,id:"comment",rows:"2",class:"px-0 w-full text-sm text-gray-900 border-0 focus:ring-0 focus:outline-none dark:text-white dark:placeholder-gray-400 dark:bg-gray-800",placeholder:"Write a comment...",required:""},null,544),[[v,s(e).text]])]),t("button",{type:"submit",class:w(["inline-flex items-center py-2.5 px-4 text-xs font-medium text-center text-white bg-blue-700 rounded-lg focus:ring-4 focus:ring-blue-200 dark:focus:ring-blue-900 hover:bg-blue-800",{"opacity-25":s(e).processing}]),disabled:s(e).processing}," Send ",10,B)],32))}};export{F as default};
